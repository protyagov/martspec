import{r as n,j as r}from"./index-D897qBJg.js";import{S as l}from"./star-icon-C9_0proU.js";import{v as w}from"./SortService-Dplxioh7.js";const h=(e,i)=>{let t;return(...s)=>{t&&clearTimeout(t),t=setTimeout(()=>e(...s),i)}},m=(e=1e3)=>{const[i,t]=n.useState({width:window.innerWidth,height:window.innerHeight});return n.useEffect(()=>{const s=h(()=>{t({width:window.innerWidth,height:window.innerHeight})},e);return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[e]),i},u=({data:e,settings:i})=>{const t=n.useRef(null),s=m(i.resizeDelay),[a,o]=n.useState({overflowFlag:!1,content:[e.origMsg]});return n.useLayoutEffect(()=>{const d=t.current;d&&w({data:{...e,origElem:d},settings:i}).then(c=>o(c))},[s]),{validatedData:a,reviewTextRef:t}},v=e=>new Date(e).toLocaleDateString("ru-RU");function j({reviewerNickname:e,createdDate:i,reviewText:t,rating:s}){const{reviewTextRef:a,validatedData:o}=u({data:{origMsg:t},settings:{rows:8,resizeDelay:100,endElem:r.jsx("span",{children:"..."},t)}});return r.jsxs("li",{className:"review-card",children:[r.jsxs("header",{className:"review-card__header",children:[r.jsxs("div",{className:"review-card__header-main",children:[r.jsx("h3",{children:e}),r.jsxs("span",{className:"review-card__header-rating",children:[r.jsx(l,{}),s,",0"]})]}),r.jsx("time",{dateTime:i,children:v(i)})]}),r.jsx("p",{ref:a,children:o.content})]})}export{j as R};
