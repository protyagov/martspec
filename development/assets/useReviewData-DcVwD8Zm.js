import{j as o,r as n}from"./index-ChWWPBWA.js";import{R as c}from"./review-card-BazRG0lR.js";import{R as d}from"./review-filler-card-B3ufiVkU.js";import{u}from"./review-context-Bk6JF_qE.js";import{S as m}from"./review-link-CsoMaET8.js";import{g as v,a as l,s as w}from"./SortService-BdCDTcI1.js";function C(){const{data:a,text:r}=u();return o.jsx("ul",{className:"review__list",children:a.reviews.map((e,s)=>"filler"in e?o.jsx(d,{link:o.jsx(m,{}),posIndex:s},r.fillerCard.head[s]):o.jsx(c,{createdDate:e.updated.label,reviewText:e.content.label,reviewerNickname:e.author.name.label,rating:e["im:rating"].label},e.id.label))})}const D=a=>{const[r,e]=n.useState(!1);return n.useEffect(()=>{e(window.matchMedia(a).matches)},[]),n.useEffect(()=>{const s=window.matchMedia(a),i=t=>e(t.matches);return s.addEventListener("change",i),()=>s.removeEventListener("change",i)},[]),r},E=({codes:a,arrLength:r=3,appId:e})=>{const[s,i]=n.useState(null);return n.useEffect(()=>{v({appId:e,countryCode:a.countryCode||"us"}).then(t=>l({reviewData:t.feed.entry,arrLength:r})).then(t=>w({validatedData:t,lang:a.languageCode||"en"})).then(t=>i(t)).catch(()=>l({reviewData:[],arrLength:r}).then(t=>i(t)))},[]),{reviews:s}};export{C as R,E as a,D as u};
